<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'none'; style-src {{cspSource}} 'unsafe-inline'; script-src {{cspSource}};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{cssUri}}" rel="stylesheet">
    <title>STM32 Debug Configurator</title>
</head>

<body>

    <div class="container">
        <h1>STM32 Debug Configuration</h1>
        <p>Fill in the details below to generate a `launch.json` configuration for Cortex-Debug.</p>

        <div class="form-group">
            <label for="executablePath">Executable (.elf) Path</label>
            <input type="text" id="executablePath"
                value="${command:st-stm32-ide-debug-launch.get-projects-binary-from-context1}"
                placeholder="e.g., ${workspaceFolder}/build/project.elf">
        </div>

        <div class="form-group">
            <label for="deviceName">Device Name (e.g., STM32F407ZG)</label>
            <input type="text" id="deviceName" value="STM32F407ZG" placeholder="e.g., STM32F407ZG">
        </div>

        <div class="form-group">
            <label for="interfaceFile">Interface File</label>
            <select id="interfaceFile">
                <option value="interface/cmsis-dap.cfg">CMSIS-DAP</option>
                <option value="interface/stlink.cfg">ST-Link</option>
                <option value="interface/jlink.cfg">J-Link</option>
            </select>
        </div>

        <div class="form-group">
            <label for="targetFile">Target File</label>
            <select id="targetFile">
                <option value="target/stm32f4x.cfg">STM32F4x Series</option>
                <option value="target/stm32f1x.cfg">STM32F1x Series</option>
                <option value="target/stm32f3x.cfg">STM32F3x Series</option>
                <option value="target/stm32f7x.cfg">STM32F7x Series</option>
                <option value="target/stm32h7x.cfg">STM32H7x Series</option>
                <option value="target/stm32l4x.cfg">STM32L4x Series</option>
            </select>
        </div>

        <div class="form-group">
            <label for="svdFilePath">SVD File Path (Optional)</label>
            <input type="text" id="svdFilePath" placeholder="e.g., ${workspaceFolder}/STM32F407.svd">
        </div>

        <div class="form-group">
            <label for="adapterSpeed">Adapter Speed (kHz)</label>
            <input type="number" id="adapterSpeed" value="4000" placeholder="e.g., 4000">
        </div>

        <button id="generate-button">Generate Configuration</button>
        <p class="footer">Created by 左岚</p>
    </div>

    <script src="{{jsUri}}"></script>
</body>

</html>